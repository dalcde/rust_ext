<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8"/>
    <title>Adams Spectral Sequence for tmf</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.0/dist/katex.min.css" integrity="sha384-BdGj8xC2eZkQaxoQ8nSLefg4AV4/AwB3Fj+8SUSo7pnKP6Eoy18liIKTPn9oBYNG" crossorigin="anonymous">
    <link rel="stylesheet" href="index.css">
    <link rel="stylesheet" href="intro.css">
    <link rel="stylesheet" href="common.css">
  </head>
  <body>
    <div id="main"></div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/EventEmitter/5.2.6/EventEmitter.min.js" type="text/javascript"></script>
    <script src="https://cdn.jsdelivr.net/npm/katex@0.11.0/dist/katex.min.js" integrity="sha384-JiKN5O8x9Hhs/UE5cT5AAJqieYlOZbGT3CHws/y97o3ty4R7/O5poG9F3JoiOYw1" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/5.11.0/d3.min.js" type="text/javascript"></script>
    <script src="mousetrap.min.js"></script>
    <script src="canvas2svg.js"></script>
    <script src="pako.js"></script>
    <script type="module">
      'use strict';

      import { CalculationDisplay } from "./cDisplay.js"
      (async () => {
        const r = await fetch("./tmf.hist");
        const length = r.headers.get('Content-Length');
        const t = new Uint8Array(length);
        const reader = r.body.getReader();
        const mainDiv = document.querySelector("#main");
        let position = 0;
        while (true) {
            const {done, value} = await reader.read();
            if (done) break;
            t.set(value, position);
            position += value.length;
            mainDiv.style.display = "flex";
            mainDiv.style.alignItems = "center";
            mainDiv.style.justifyContent = "center";
            mainDiv.style.fontSize = "200%";
            mainDiv.innerHTML = "Loading: " + Math.round(position / length * 100) + "%";
        }
        mainDiv.style.removeProperty("align-items");
        mainDiv.style.removeProperty("justify-content");
        mainDiv.style.removeProperty("font-size");
        mainDiv.innerHTML = "";
        window.display = new CalculationDisplay("#main", t.buffer);
      })();
    </script>
  </body>
</html>
